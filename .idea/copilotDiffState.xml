<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/GalleryActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/GalleryActivity.java" />
              <option name="originalContent" value="package com.david.smartcamerax;&#10;&#10;import android.content.ContentUris;&#10;import android.content.Context;&#10;import android.content.Intent;&#10;import android.database.Cursor;&#10;import android.net.Uri;&#10;import android.os.Build;&#10;import android.os.Bundle;&#10;import android.provider.MediaStore;&#10;import android.util.Log;&#10;import android.view.View;&#10;&#10;import androidx.annotation.Nullable;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.recyclerview.widget.GridLayoutManager;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import android.widget.TextView;&#10;import android.widget.ImageButton;&#10;&#10;import java.util.ArrayList;&#10;import java.util.Collections;&#10;import java.util.Comparator;&#10;import java.util.List;&#10;&#10;import com.david.smartcamerax.storage.ImageStore;&#10;&#10;/**&#10; * GalleryActivity&#10; * &lt;p&gt;&#10; * Muestra una grilla de imágenes guardadas por la app (Pictures/SmartCameraX) consultando MediaStore.&#10; * - Usa GalleryAdapter para renderizar miniaturas.&#10; * - Al pulsar una miniatura abre ImageViewerActivity pasando la lista completa de URIs y la posición&#10; *   pulsada para permitir navegación por swipe.&#10; *&#10; * Consideraciones:&#10; * - En Android Q+ la consulta usa RELATIVE_PATH para filtrar por la carpeta de la app.&#10; * - En versiones anteriores se filtra por DISPLAY_NAME como heurística.&#10; * - Se recomienda usar una librería de carga de imágenes (Glide/Picasso) si la galería crece en tamaño.&#10; */&#10;public class GalleryActivity extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;GalleryActivity&quot;;&#10;&#10;    private RecyclerView rvGallery;&#10;    private TextView tvEmpty;&#10;    private GalleryAdapter adapter;&#10;&#10;    @Override&#10;    protected void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_gallery);&#10;&#10;        rvGallery = findViewById(R.id.rv_gallery);&#10;        tvEmpty = findViewById(R.id.tv_empty);&#10;&#10;        // Botón volver: usar findViewById directo (el id existe en el layout)&#10;        ImageButton btnBack = findViewById(R.id.btn_back_gallery);&#10;        if (btnBack != null) {&#10;            btnBack.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(GalleryActivity.this, MainActivity.class);&#10;                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#10;                startActivity(intent);&#10;                finish();&#10;            });&#10;        }&#10;&#10;        // Grid de 3 columnas para miniaturas&#10;        rvGallery.setLayoutManager(new GridLayoutManager(this, 3));&#10;        // cuando se hace click se crea una lista de strings (URIs) y se abre el visor en la posición&#10;        adapter = new GalleryAdapter((item, position) -&gt; {&#10;            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();&#10;            for (MediaItem mi : adapter.getCurrentList()) list.add(mi.uri.toString());&#10;            ImageViewerActivity.start(GalleryActivity.this, list, position);&#10;        });&#10;        rvGallery.setAdapter(adapter);&#10;&#10;        loadImages();&#10;    }&#10;&#10;    /**&#10;     * loadImages()&#10;     * &lt;p&gt;&#10;     * Consulta MediaStore y actualiza el adaptador. Si no hay imágenes muestra un mensaje.&#10;     */&#10;    private void loadImages() {&#10;        List&lt;MediaItem&gt; items = queryAppMedia(this);&#10;        if (items.isEmpty()) {&#10;            tvEmpty.setVisibility(View.VISIBLE);&#10;            rvGallery.setVisibility(View.GONE);&#10;        } else {&#10;            tvEmpty.setVisibility(View.GONE);&#10;            rvGallery.setVisibility(View.VISIBLE);&#10;            adapter.submitList(items);&#10;        }&#10;    }&#10;&#10;    /**&#10;     * queryAppMedia()&#10;     * &lt;p&gt;&#10;     * Consulta MediaStore para devolver URIs de imágenes y videos guardados por la app.&#10;     * - En Android Q+ filtra por RELATIVE_PATH (más fiable).&#10;     * - En versiones antiguas filtra por DISPLAY_NAME con un patrón (heurística).&#10;     *&#10;     * Nota: devuelve URIs content:// que pueden usarse con ImageView.setImageURI o con Glide.&#10;     */&#10;    public static List&lt;MediaItem&gt; queryAppMedia(Context ctx) {&#10;        List&lt;MediaItem&gt; result = new ArrayList&lt;&gt;();&#10;        // Fotos&#10;        Uri imgCollection = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;&#10;        String[] imgProjection = new String[]{&#10;                MediaStore.Images.Media._ID,&#10;                MediaStore.Images.Media.RELATIVE_PATH,&#10;                MediaStore.Images.Media.DATE_ADDED&#10;        };&#10;        String imgSelection;&#10;        String[] imgSelectionArgs;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {&#10;            imgSelection = MediaStore.Images.Media.RELATIVE_PATH + &quot; LIKE ?&quot;;&#10;            imgSelectionArgs = new String[]{&quot;%&quot; + ImageStore.RELATIVE_PATH + &quot;%&quot;};&#10;        } else {&#10;            imgSelection = MediaStore.Images.Media.DISPLAY_NAME + &quot; LIKE ?&quot;;&#10;            imgSelectionArgs = new String[]{&quot;%SmartCameraX%&quot;};&#10;        }&#10;        String sort = MediaStore.Images.Media.DATE_ADDED + &quot; DESC&quot;;&#10;        try (Cursor cursor = ctx.getContentResolver().query(imgCollection, imgProjection, imgSelection, imgSelectionArgs, sort)) {&#10;            if (cursor != null) {&#10;                int idCol = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID);&#10;                int dateCol = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_ADDED);&#10;                while (cursor.moveToNext()) {&#10;                    long id = cursor.getLong(idCol);&#10;                    long date = cursor.getLong(dateCol);&#10;                    Uri contentUri = ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, id);&#10;                    result.add(new MediaItem(contentUri, false, date));&#10;                }&#10;            }&#10;        } catch (Exception e) { Log.w(TAG, &quot;queryAppMedia images error&quot;, e); }&#10;&#10;        // Videos (guardados en Movies/SmartCameraX)&#10;        Uri vidCollection = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;&#10;        String[] vidProjection = new String[]{&#10;                MediaStore.Video.Media._ID,&#10;                MediaStore.Video.Media.RELATIVE_PATH,&#10;                MediaStore.Video.Media.DATE_ADDED&#10;        };&#10;        String vidSelection;&#10;        String[] vidSelectionArgs;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {&#10;            vidSelection = MediaStore.Video.Media.RELATIVE_PATH + &quot; LIKE ?&quot;;&#10;            vidSelectionArgs = new String[]{&quot;%Movies/SmartCameraX%&quot;};&#10;        } else {&#10;            vidSelection = MediaStore.Video.Media.DISPLAY_NAME + &quot; LIKE ?&quot;;&#10;            vidSelectionArgs = new String[]{&quot;%SmartCameraX%&quot;};&#10;        }&#10;        try (Cursor cursor = ctx.getContentResolver().query(vidCollection, vidProjection, vidSelection, vidSelectionArgs, MediaStore.Video.Media.DATE_ADDED + &quot; DESC&quot;)) {&#10;            if (cursor != null) {&#10;                int idCol = cursor.getColumnIndexOrThrow(MediaStore.Video.Media._ID);&#10;                int dateCol = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATE_ADDED);&#10;                while (cursor.moveToNext()) {&#10;                    long id = cursor.getLong(idCol);&#10;                    long date = cursor.getLong(dateCol);&#10;                    Uri contentUri = ContentUris.withAppendedId(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, id);&#10;                    result.add(new MediaItem(contentUri, true, date));&#10;                }&#10;            }&#10;        } catch (Exception e) { Log.w(TAG, &quot;queryAppMedia videos error&quot;, e); }&#10;&#10;        // Orden combinado por fecha descendente&#10;        Collections.sort(result, Comparator.comparingLong((MediaItem m) -&gt; m.dateAdded).reversed());&#10;        return result;&#10;    }&#10;&#10;}&#10;" />
              <option name="updatedContent" value="package com.david.smartcamerax;&#10;&#10;import android.content.ContentUris;&#10;import android.content.Context;&#10;import android.content.Intent;&#10;import android.database.Cursor;&#10;import android.net.Uri;&#10;import android.os.Build;&#10;import android.os.Bundle;&#10;import android.provider.MediaStore;&#10;import android.util.Log;&#10;import android.view.View;&#10;&#10;import androidx.annotation.Nullable;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.recyclerview.widget.GridLayoutManager;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import android.widget.TextView;&#10;import android.widget.ImageButton;&#10;&#10;import java.util.ArrayList;&#10;import java.util.Collections;&#10;import java.util.Comparator;&#10;import java.util.List;&#10;&#10;import com.david.smartcamerax.storage.ImageStore;&#10;&#10;/**&#10; * GalleryActivity&#10; * &lt;p&gt;&#10; * Muestra una grilla de imágenes guardadas por la app (Pictures/SmartCameraX) consultando MediaStore.&#10; * - Usa GalleryAdapter para renderizar miniaturas.&#10; * - Al pulsar una miniatura abre ImageViewerActivity pasando la lista completa de URIs y la posición&#10; *   pulsada para permitir navegación por swipe.&#10; *&#10; * Consideraciones:&#10; * - En Android Q+ la consulta usa RELATIVE_PATH para filtrar por la carpeta de la app.&#10; * - En versiones anteriores se filtra por DISPLAY_NAME como heurística.&#10; * - Se recomienda usar una librería de carga de imágenes (Glide/Picasso) si la galería crece en tamaño.&#10; */&#10;public class GalleryActivity extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;GalleryActivity&quot;;&#10;&#10;    private RecyclerView rvGallery;&#10;    private TextView tvEmpty;&#10;    private GalleryAdapter adapter;&#10;&#10;    @Override&#10;    protected void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_gallery);&#10;&#10;        rvGallery = findViewById(R.id.rv_gallery);&#10;        tvEmpty = findViewById(R.id.tv_empty);&#10;&#10;        // Botón volver: usar findViewById directo (el id existe en el layout)&#10;        ImageButton btnBack = findViewById(R.id.btn_back_gallery);&#10;        if (btnBack != null) {&#10;            btnBack.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(GalleryActivity.this, MainActivity.class);&#10;                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);&#10;                startActivity(intent);&#10;                finish();&#10;            });&#10;        }&#10;&#10;        // Grid de 3 columnas para miniaturas&#10;        rvGallery.setLayoutManager(new GridLayoutManager(this, 3));&#10;        // cuando se hace click se crea una lista de strings (URIs) y se abre el visor en la posición&#10;        adapter = new GalleryAdapter((item, position) -&gt; {&#10;            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();&#10;            boolean[] videoFlags = new boolean[adapter.getCurrentList().size()];&#10;            int i = 0;&#10;            for (MediaItem mi : adapter.getCurrentList()) {&#10;                list.add(mi.uri.toString());&#10;                videoFlags[i++] = mi.isVideo;&#10;            }&#10;            ImageViewerActivity.start(GalleryActivity.this, list, videoFlags, position);&#10;        });&#10;        rvGallery.setAdapter(adapter);&#10;&#10;        loadImages();&#10;    }&#10;&#10;    /**&#10;     * loadImages()&#10;     * &lt;p&gt;&#10;     * Consulta MediaStore y actualiza el adaptador. Si no hay imágenes muestra un mensaje.&#10;     */&#10;    private void loadImages() {&#10;        List&lt;MediaItem&gt; items = queryAppMedia(this);&#10;        if (items.isEmpty()) {&#10;            tvEmpty.setVisibility(View.VISIBLE);&#10;            rvGallery.setVisibility(View.GONE);&#10;        } else {&#10;            tvEmpty.setVisibility(View.GONE);&#10;            rvGallery.setVisibility(View.VISIBLE);&#10;            adapter.submitList(items);&#10;        }&#10;    }&#10;&#10;    /**&#10;     * queryAppMedia()&#10;     * &lt;p&gt;&#10;     * Consulta MediaStore para devolver URIs de imágenes y videos guardados por la app.&#10;     * - En Android Q+ filtra por RELATIVE_PATH (más fiable).&#10;     * - En versiones antiguas filtra por DISPLAY_NAME con un patrón (heurística).&#10;     *&#10;     * Nota: devuelve URIs content:// que pueden usarse con ImageView.setImageURI o con Glide.&#10;     */&#10;    public static List&lt;MediaItem&gt; queryAppMedia(Context ctx) {&#10;        List&lt;MediaItem&gt; result = new ArrayList&lt;&gt;();&#10;        // Fotos&#10;        Uri imgCollection = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;&#10;        String[] imgProjection = new String[]{&#10;                MediaStore.Images.Media._ID,&#10;                MediaStore.Images.Media.RELATIVE_PATH,&#10;                MediaStore.Images.Media.DATE_ADDED&#10;        };&#10;        String imgSelection;&#10;        String[] imgSelectionArgs;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {&#10;            imgSelection = MediaStore.Images.Media.RELATIVE_PATH + &quot; LIKE ?&quot;;&#10;            imgSelectionArgs = new String[]{&quot;%&quot; + ImageStore.RELATIVE_PATH + &quot;%&quot;};&#10;        } else {&#10;            imgSelection = MediaStore.Images.Media.DISPLAY_NAME + &quot; LIKE ?&quot;;&#10;            imgSelectionArgs = new String[]{&quot;%SmartCameraX%&quot;};&#10;        }&#10;        String sort = MediaStore.Images.Media.DATE_ADDED + &quot; DESC&quot;;&#10;        try (Cursor cursor = ctx.getContentResolver().query(imgCollection, imgProjection, imgSelection, imgSelectionArgs, sort)) {&#10;            if (cursor != null) {&#10;                int idCol = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID);&#10;                int dateCol = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_ADDED);&#10;                while (cursor.moveToNext()) {&#10;                    long id = cursor.getLong(idCol);&#10;                    long date = cursor.getLong(dateCol);&#10;                    Uri contentUri = ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, id);&#10;                    result.add(new MediaItem(contentUri, false, date));&#10;                }&#10;            }&#10;        } catch (Exception e) { Log.w(TAG, &quot;queryAppMedia images error&quot;, e); }&#10;&#10;        // Videos (guardados en Movies/SmartCameraX)&#10;        Uri vidCollection = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;&#10;        String[] vidProjection = new String[]{&#10;                MediaStore.Video.Media._ID,&#10;                MediaStore.Video.Media.RELATIVE_PATH,&#10;                MediaStore.Video.Media.DATE_ADDED&#10;        };&#10;        String vidSelection;&#10;        String[] vidSelectionArgs;&#10;        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {&#10;            vidSelection = MediaStore.Video.Media.RELATIVE_PATH + &quot; LIKE ?&quot;;&#10;            vidSelectionArgs = new String[]{&quot;%Movies/SmartCameraX%&quot;};&#10;        } else {&#10;            vidSelection = MediaStore.Video.Media.DISPLAY_NAME + &quot; LIKE ?&quot;;&#10;            vidSelectionArgs = new String[]{&quot;%SmartCameraX%&quot;};&#10;        }&#10;        try (Cursor cursor = ctx.getContentResolver().query(vidCollection, vidProjection, vidSelection, vidSelectionArgs, MediaStore.Video.Media.DATE_ADDED + &quot; DESC&quot;)) {&#10;            if (cursor != null) {&#10;                int idCol = cursor.getColumnIndexOrThrow(MediaStore.Video.Media._ID);&#10;                int dateCol = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATE_ADDED);&#10;                while (cursor.moveToNext()) {&#10;                    long id = cursor.getLong(idCol);&#10;                    long date = cursor.getLong(dateCol);&#10;                    Uri contentUri = ContentUris.withAppendedId(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, id);&#10;                    result.add(new MediaItem(contentUri, true, date));&#10;                }&#10;            }&#10;        } catch (Exception e) { Log.w(TAG, &quot;queryAppMedia videos error&quot;, e); }&#10;&#10;        // Orden combinado por fecha descendente&#10;        Collections.sort(result, Comparator.comparingLong((MediaItem m) -&gt; m.dateAdded).reversed());&#10;        return result;&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/GalleryAdapter.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/GalleryAdapter.java" />
              <option name="originalContent" value="package com.david.smartcamerax;&#10;&#10;import android.net.Uri;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ImageView;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.DiffUtil;&#10;import androidx.recyclerview.widget.ListAdapter;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;public class GalleryAdapter extends ListAdapter&lt;Uri, GalleryAdapter.ViewHolder&gt; {&#10;&#10;    public interface Listener {&#10;        void onItemClick(Uri imageUri, int position);&#10;    }&#10;&#10;    private final Listener listener;&#10;&#10;    // DIFF callback estático&#10;    private static final DiffUtil.ItemCallback&lt;Uri&gt; DIFF = new DiffUtil.ItemCallback&lt;&gt;() {&#10;        @Override&#10;        public boolean areItemsTheSame(@NonNull Uri oldItem, @NonNull Uri newItem) {&#10;            return oldItem.equals(newItem);&#10;        }&#10;&#10;        @Override&#10;        public boolean areContentsTheSame(@NonNull Uri oldItem, @NonNull Uri newItem) {&#10;            return oldItem.equals(newItem);&#10;        }&#10;    };&#10;&#10;    public GalleryAdapter(Listener listener) {&#10;        super(DIFF);&#10;        this.listener = listener;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_gallery, parent, false);&#10;        return new ViewHolder(v);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {&#10;        Uri uri = getItem(position);&#10;        holder.bind(uri);&#10;        holder.itemView.setOnClickListener(v -&gt; {&#10;            if (listener != null) listener.onItemClick(uri, position);&#10;        });&#10;    }&#10;&#10;    public static class ViewHolder extends RecyclerView.ViewHolder {&#10;        private final ImageView iv;&#10;&#10;        ViewHolder(@NonNull View itemView) {&#10;            super(itemView);&#10;            iv = itemView.findViewById(R.id.iv_thumb);&#10;        }&#10;&#10;        void bind(Uri uri) {&#10;            // setImageURI simple para thumbs; se puede mejorar con Glide/Picasso&#10;            iv.setImageURI(uri);&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.david.smartcamerax;&#10;&#10;import android.net.Uri;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ImageView;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.DiffUtil;&#10;import androidx.recyclerview.widget.ListAdapter;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;public class GalleryAdapter extends ListAdapter&lt;MediaItem, GalleryAdapter.ViewHolder&gt; {&#10;&#10;    public interface Listener {&#10;        void onItemClick(MediaItem item, int position);&#10;    }&#10;&#10;    private final Listener listener;&#10;&#10;    // DIFF callback estático&#10;    private static final DiffUtil.ItemCallback&lt;MediaItem&gt; DIFF = new DiffUtil.ItemCallback&lt;&gt;() {&#10;        @Override&#10;        public boolean areItemsTheSame(@NonNull MediaItem oldItem, @NonNull MediaItem newItem) {&#10;            return oldItem.uri.equals(newItem.uri);&#10;        }&#10;&#10;        @Override&#10;        public boolean areContentsTheSame(@NonNull MediaItem oldItem, @NonNull MediaItem newItem) {&#10;            return oldItem.equals(newItem);&#10;        }&#10;    };&#10;&#10;    public GalleryAdapter(Listener listener) {&#10;        super(DIFF);&#10;        this.listener = listener;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_gallery, parent, false);&#10;        return new ViewHolder(v);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {&#10;        MediaItem item = getItem(position);&#10;        holder.bind(item);&#10;        holder.itemView.setOnClickListener(v -&gt; {&#10;            if (listener != null) listener.onItemClick(item, position);&#10;        });&#10;    }&#10;&#10;    public static class ViewHolder extends RecyclerView.ViewHolder {&#10;        private final ImageView iv;&#10;        private final ImageView ivBadge;&#10;&#10;        ViewHolder(@NonNull View itemView) {&#10;            super(itemView);&#10;            iv = itemView.findViewById(R.id.iv_thumb);&#10;            ivBadge = itemView.findViewById(R.id.iv_video_badge);&#10;        }&#10;&#10;        void bind(MediaItem item) {&#10;            Uri uri = item.uri;&#10;            iv.setImageURI(uri); // para simplificar; se puede reemplazar por Glide para mejor performance&#10;            if (ivBadge != null) {&#10;                ivBadge.setVisibility(item.isVideo ? View.VISIBLE : View.GONE);&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/ImagePagerAdapter.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/ImagePagerAdapter.java" />
              <option name="originalContent" value="package com.david.smartcamerax;&#10;&#10;import android.net.Uri;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ImageView;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import java.util.List;&#10;&#10;public class ImagePagerAdapter extends RecyclerView.Adapter&lt;ImagePagerAdapter.VH&gt; {&#10;&#10;    private final List&lt;String&gt; items;&#10;&#10;    public ImagePagerAdapter(List&lt;String&gt; items) {&#10;        this.items = items;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public VH onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_image_pager, parent, false);&#10;        return new VH(v);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull VH holder, int position) {&#10;        String s = items.get(position);&#10;        if (s != null) {&#10;            Uri uri = Uri.parse(s);&#10;            holder.iv.setImageURI(uri);&#10;        } else {&#10;            holder.iv.setImageURI(null);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public int getItemCount() {&#10;        return items == null ? 0 : items.size();&#10;    }&#10;&#10;    static class VH extends RecyclerView.ViewHolder {&#10;        final ImageView iv;&#10;&#10;        VH(@NonNull View itemView) {&#10;            super(itemView);&#10;            iv = itemView.findViewById(R.id.iv_page);&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.david.smartcamerax;&#10;&#10;import android.net.Uri;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.ImageView;&#10;import android.widget.VideoView;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import java.util.List;&#10;&#10;public class ImagePagerAdapter extends RecyclerView.Adapter&lt;ImagePagerAdapter.VH&gt; {&#10;&#10;    private final List&lt;String&gt; items;&#10;    private final boolean[] videoFlags;&#10;&#10;    public ImagePagerAdapter(List&lt;String&gt; items, boolean[] videoFlags) {&#10;        this.items = items;&#10;        this.videoFlags = videoFlags;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public VH onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_image_pager, parent, false);&#10;        return new VH(v);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull VH holder, int position) {&#10;        String s = items.get(position);&#10;        boolean isVideo = videoFlags != null &amp;&amp; position &lt; videoFlags.length &amp;&amp; videoFlags[position];&#10;        if (s != null) {&#10;            Uri uri = Uri.parse(s);&#10;            if (isVideo) {&#10;                holder.iv.setVisibility(View.GONE);&#10;                holder.vv.setVisibility(View.VISIBLE);&#10;                holder.vv.setVideoURI(uri);&#10;                holder.vv.start();&#10;            } else {&#10;                holder.vv.setVisibility(View.GONE);&#10;                holder.iv.setVisibility(View.VISIBLE);&#10;                holder.iv.setImageURI(uri);&#10;            }&#10;        } else {&#10;            holder.iv.setImageURI(null);&#10;            holder.vv.setVideoURI(null);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public int getItemCount() {&#10;        return items == null ? 0 : items.size();&#10;    }&#10;&#10;    @Override&#10;    public void onViewRecycled(@NonNull VH holder) {&#10;        super.onViewRecycled(holder);&#10;        try { holder.vv.stopPlayback(); } catch (Exception ignored) {}&#10;    }&#10;&#10;    static class VH extends RecyclerView.ViewHolder {&#10;        final ImageView iv;&#10;        final VideoView vv;&#10;        VH(@NonNull View itemView) {&#10;            super(itemView);&#10;            iv = itemView.findViewById(R.id.iv_page);&#10;            vv = itemView.findViewById(R.id.vv_page);&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/ImageViewerActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/david/smartcamerax/ImageViewerActivity.java" />
              <option name="originalContent" value="package com.david.smartcamerax;&#10;&#10;import android.content.Context;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageButton;&#10;&#10;import androidx.annotation.Nullable;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.viewpager2.widget.ViewPager2;&#10;&#10;import java.util.ArrayList;&#10;&#10;public class ImageViewerActivity extends AppCompatActivity {&#10;&#10;    private static final String EXTRA_LIST = &quot;extra_image_list&quot;;&#10;    private static final String EXTRA_POS = &quot;extra_image_pos&quot;;&#10;&#10;    public static void start(Context ctx, ArrayList&lt;String&gt; uris, int position) {&#10;        Intent i = new Intent(ctx, ImageViewerActivity.class);&#10;        i.putStringArrayListExtra(EXTRA_LIST, uris);&#10;        i.putExtra(EXTRA_POS, position);&#10;        ctx.startActivity(i);&#10;    }&#10;&#10;    @Override&#10;    protected void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_image_viewer);&#10;&#10;        ViewPager2 vp = findViewById(R.id.vp_images);&#10;        ImageButton btnClose = findViewById(R.id.btn_close);&#10;&#10;        ArrayList&lt;String&gt; items = getIntent().getStringArrayListExtra(EXTRA_LIST);&#10;        int pos = getIntent().getIntExtra(EXTRA_POS, 0);&#10;&#10;        if (items == null) items = new ArrayList&lt;&gt;();&#10;&#10;        ImagePagerAdapter adapter = new ImagePagerAdapter(items);&#10;        vp.setAdapter(adapter);&#10;        vp.setCurrentItem(Math.max(0, Math.min(pos, items.size() - 1)), false);&#10;&#10;        btnClose.setOnClickListener(v -&gt; finish());&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.david.smartcamerax;&#10;&#10;import android.content.Context;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.ImageButton;&#10;&#10;import androidx.annotation.Nullable;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.viewpager2.widget.ViewPager2;&#10;&#10;import java.util.ArrayList;&#10;&#10;public class ImageViewerActivity extends AppCompatActivity {&#10;&#10;    private static final String EXTRA_LIST = &quot;extra_image_list&quot;;&#10;    private static final String EXTRA_POS = &quot;extra_image_pos&quot;;&#10;    private static final String EXTRA_FLAGS = &quot;extra_video_flags&quot;;&#10;&#10;    public static void start(Context ctx, ArrayList&lt;String&gt; uris, boolean[] videoFlags, int position) {&#10;        Intent i = new Intent(ctx, ImageViewerActivity.class);&#10;        i.putStringArrayListExtra(EXTRA_LIST, uris);&#10;        i.putExtra(EXTRA_FLAGS, videoFlags);&#10;        i.putExtra(EXTRA_POS, position);&#10;        ctx.startActivity(i);&#10;    }&#10;&#10;    @Override&#10;    protected void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_image_viewer);&#10;&#10;        ViewPager2 vp = findViewById(R.id.vp_images);&#10;        ImageButton btnClose = findViewById(R.id.btn_close);&#10;&#10;        ArrayList&lt;String&gt; items = getIntent().getStringArrayListExtra(EXTRA_LIST);&#10;        int pos = getIntent().getIntExtra(EXTRA_POS, 0);&#10;&#10;        if (items == null) items = new ArrayList&lt;&gt;();&#10;&#10;        boolean[] flags = getIntent().getBooleanArrayExtra(EXTRA_FLAGS);&#10;        ImagePagerAdapter adapter = new ImagePagerAdapter(items, flags);&#10;        vp.setAdapter(adapter);&#10;        vp.setCurrentItem(Math.max(0, Math.min(pos, items.size() - 1)), false);&#10;&#10;        btnClose.setOnClickListener(v -&gt; finish());&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_camera.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_camera.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;androidx.camera.view.PreviewView&#10;        android:id=&quot;@+id/preview_view&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:layout_gravity=&quot;center&quot; &gt;&#10;&#10;        &lt;ImageButton&#10;            android:id=&quot;@+id/btn_capture&quot;&#10;            android:layout_width=&quot;84dp&quot;&#10;            android:layout_height=&quot;84dp&quot;&#10;            android:layout_gravity=&quot;bottom|center&quot;&#10;            android:layout_marginBottom=&quot;32dp&quot;&#10;            android:background=&quot;@drawable/capture_button_bg&quot;&#10;            android:contentDescription=&quot;@string/desc_take_photo&quot;&#10;            android:padding=&quot;16dp&quot;&#10;            android:src=&quot;@drawable/ic_camera&quot; /&gt;&#10;    &lt;/androidx.camera.view.PreviewView&gt;&#10;&#10;    &lt;!-- Botón de volver a la pantalla principal (ahora en la parte inferior izquierda) --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_back_camera&quot;&#10;        android:layout_width=&quot;40dp&quot;&#10;        android:layout_height=&quot;40dp&quot;&#10;        android:background=&quot;@android:color/transparent&quot;&#10;        android:src=&quot;@android:drawable/ic_menu_revert&quot;&#10;        android:contentDescription=&quot;@string/desc_back&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|start&quot;&#10;        android:layout_marginStart=&quot;16dp&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot; /&gt;&#10;&#10;    &lt;!-- Resultado del modo inteligente (texto detectado / QR) --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tv_result&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:background=&quot;#66000000&quot;&#10;        android:padding=&quot;8dp&quot;&#10;        android:textColor=&quot;@color/white&quot;&#10;        android:textSize=&quot;14sp&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        android:ellipsize=&quot;end&quot;&#10;        android:maxLines=&quot;3&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;top|center&quot;&#10;        android:layout_marginStart=&quot;16dp&quot;&#10;        android:layout_marginEnd=&quot;16dp&quot;&#10;        android:gravity=&quot;center&quot; /&gt;&#10;&#10;    &lt;!-- Indicador del filtro actual --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tv_filter&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:background=&quot;#66000000&quot;&#10;        android:paddingStart=&quot;10dp&quot;&#10;        android:paddingEnd=&quot;10dp&quot;&#10;        android:paddingTop=&quot;6dp&quot;&#10;        android:paddingBottom=&quot;6dp&quot;&#10;        android:textColor=&quot;@color/white&quot;&#10;        android:textSize=&quot;12sp&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;top|start&quot;&#10;        android:layout_marginStart=&quot;16dp&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_switch&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_switch_camera&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|end&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_switch_camera&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_filter&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_filter&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|start&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_change_filter&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_smart&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_smart&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|center&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_smart_mode&quot; /&gt;&#10;&#10;    &lt;!-- Nuevo botón de grabación de video: situado a la derecha del botón de captura --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_record&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginEnd=&quot;96dp&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot;&#10;        android:background=&quot;@drawable/capture_button_bg&quot;&#10;        android:contentDescription=&quot;@string/desc_record_video&quot;&#10;        android:padding=&quot;12dp&quot;&#10;        android:src=&quot;@drawable/ic_videocam&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|end&quot; /&gt;&#10;&#10;    &lt;!-- Botón para activar/desactivar flash (linterna) situado abajo a la derecha --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_flash&quot;&#10;        android:layout_width=&quot;48dp&quot;&#10;        android:layout_height=&quot;48dp&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;16dp&quot;&#10;        android:background=&quot;@android:color/transparent&quot;&#10;        android:src=&quot;@drawable/ic_flash_off&quot;&#10;        android:contentDescription=&quot;@string/desc_toggle_flash&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|end&quot; /&gt;&#10;&#10;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;androidx.camera.view.PreviewView&#10;        android:id=&quot;@+id/preview_view&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:layout_gravity=&quot;center&quot; /&gt;&#10;&#10;    &lt;!-- Botón único: pulsación corta foto / larga grabación --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_capture&quot;&#10;        android:layout_width=&quot;84dp&quot;&#10;        android:layout_height=&quot;84dp&quot;&#10;        android:background=&quot;@drawable/capture_button_bg&quot;&#10;        android:contentDescription=&quot;@string/desc_take_photo&quot;&#10;        android:padding=&quot;16dp&quot;&#10;        android:src=&quot;@drawable/ic_camera&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|center&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot; /&gt;&#10;&#10;    &lt;!-- Botón volver --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_back_camera&quot;&#10;        android:layout_width=&quot;40dp&quot;&#10;        android:layout_height=&quot;40dp&quot;&#10;        android:background=&quot;@android:color/transparent&quot;&#10;        android:src=&quot;@android:drawable/ic_menu_revert&quot;&#10;        android:contentDescription=&quot;@string/desc_back&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|start&quot;&#10;        android:layout_marginStart=&quot;16dp&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot; /&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tv_result&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:background=&quot;#66000000&quot;&#10;        android:padding=&quot;8dp&quot;&#10;        android:textColor=&quot;@color/white&quot;&#10;        android:textSize=&quot;14sp&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        android:ellipsize=&quot;end&quot;&#10;        android:maxLines=&quot;3&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;top|center&quot;&#10;        android:layout_marginStart=&quot;16dp&quot;&#10;        android:layout_marginEnd=&quot;16dp&quot;&#10;        android:gravity=&quot;center&quot; /&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tv_filter&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:background=&quot;#66000000&quot;&#10;        android:paddingStart=&quot;10dp&quot;&#10;        android:paddingEnd=&quot;10dp&quot;&#10;        android:paddingTop=&quot;6dp&quot;&#10;        android:paddingBottom=&quot;6dp&quot;&#10;        android:textColor=&quot;@color/white&quot;&#10;        android:textSize=&quot;12sp&quot;&#10;        android:visibility=&quot;gone&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;top|start&quot;&#10;        android:layout_marginStart=&quot;16dp&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_switch&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_switch_camera&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|end&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_switch_camera&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_filter&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_filter&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|start&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_change_filter&quot; /&gt;&#10;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fab_smart&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:src=&quot;@drawable/ic_smart&quot;&#10;        app:tint=&quot;@android:color/white&quot;&#10;        app:layout_anchorGravity=&quot;top|center&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;@string/desc_smart_mode&quot; /&gt;&#10;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btn_flash&quot;&#10;        android:layout_width=&quot;48dp&quot;&#10;        android:layout_height=&quot;48dp&quot;&#10;        android:layout_marginBottom=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;16dp&quot;&#10;        android:background=&quot;@android:color/transparent&quot;&#10;        android:src=&quot;@drawable/ic_flash_off&quot;&#10;        android:contentDescription=&quot;@string/desc_toggle_flash&quot;&#10;        app:layout_anchor=&quot;@id/preview_view&quot;&#10;        app:layout_anchorGravity=&quot;bottom|end&quot; /&gt;&#10;&#10;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/item_gallery.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/item_gallery.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;wrap_content&quot;&#10;    android:layout_margin=&quot;4dp&quot;&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/iv_thumb&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;120dp&quot;&#10;        android:contentDescription=&quot;@string/thumbnail&quot;&#10;        android:scaleType=&quot;centerCrop&quot; /&gt;&#10;&#10;&lt;/FrameLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;wrap_content&quot;&#10;    android:layout_margin=&quot;4dp&quot;&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/iv_thumb&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;120dp&quot;&#10;        android:contentDescription=&quot;@string/thumbnail&quot;&#10;        android:scaleType=&quot;centerCrop&quot; /&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/iv_video_badge&quot;&#10;        android:layout_width=&quot;28dp&quot;&#10;        android:layout_height=&quot;28dp&quot;&#10;        android:layout_gravity=&quot;bottom|end&quot;&#10;        android:layout_margin=&quot;4dp&quot;&#10;        android:background=&quot;#66000000&quot;&#10;        android:padding=&quot;4dp&quot;&#10;        android:src=&quot;@drawable/ic_videocam&quot;&#10;        android:contentDescription=&quot;@string/desc_record_video&quot;&#10;        android:visibility=&quot;gone&quot; /&gt;&#10;&#10;&lt;/FrameLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/item_image_pager.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/item_image_pager.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/iv_page&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:scaleType=&quot;fitCenter&quot;&#10;        android:contentDescription=&quot;@string/thumbnail&quot; /&gt;&#10;&#10;&lt;/FrameLayout&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/iv_page&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:scaleType=&quot;fitCenter&quot;&#10;        android:contentDescription=&quot;@string/thumbnail&quot; /&gt;&#10;&#10;    &lt;VideoView&#10;        android:id=&quot;@+id/vv_page&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        android:visibility=&quot;gone&quot; /&gt;&#10;&#10;&lt;/FrameLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>